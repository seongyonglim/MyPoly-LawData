# 프로젝트 구현 가능성 검토 및 데이터 정리

> 기획자/디자이너 공유용 문서 (노션 복사용)

---

## 📋 프로젝트 개요

**목적**: 보기 어려운 의안 정보를 일반 사용자에게 보기 쉽게 제공하는 서비스

**주요 기능**:
- 의안 카테고리별 분류
- 의안 내용 요약 (AI)
- 현재 의안 검토 단계 표시
- 국회의원들의 특정 의안에 대한 표결 상태
- 사용자 투표 기능

---

## ✅ 구현 가능 여부 (최종 결론)

### **현재 3개 API로 충분합니다! 추가 API 불필요**

**제공된 API**:
1. 의안정보 통합 API
2. 국회의원 본회의 표결정보 API
3. 국회의원 정보 통합 API

**결론**: 핵심 기능 모두 구현 가능 ✅

**대량 데이터 분석 완료**:
- 의안정보: 1,000건 분석
- 의원정보: 300건 분석
- 표결정보: 298건 분석

---

## 🖥️ 화면별 구현 가능성 분석

### 1. 의안 상세 화면

| 화면 요소 | 구현 가능 여부 | 데이터 출처 | 비고 |
|---------|------------|----------|------|
| 의안 제목 | ✅ 가능 | 의안정보 API | |
| 제안일 | ✅ 가능 | 의안정보 API | |
| 카테고리 태그 | ✅ 가능 | AI 분류 (Gemini) | 이미 구현됨 |
| 제안자 정보 | ⚠️ 부분 가능 | 의안정보 API | 대표 발의자만 표시 가능 |
| 심사 진행 단계 | ✅ 가능 | 의안정보 API | 단계 매핑 테이블 필요 |
| AI 요약 | ✅ 가능 | Gemini API | 이미 구현됨 |
| 사용자 투표 | ✅ 가능 | 자체 DB | |
| 유사 의안 추천 | ✅ 가능 | 의안정보 API | 카테고리 기반 |
| 유사 성향 의원 | ⚠️ 부분 가능 | 의원정보 API | 의원 정보만 표시 가능, 일치율은 추후 |

**구현 가능성**: ✅ **95% 구현 가능**

---

### 2. 의원 상세 화면

| 화면 요소 | 구현 가능 여부 | 데이터 출처 | 비고 |
|---------|------------|----------|------|
| 의원 사진 | ✅ 가능 | 의원정보 API | `NAAS_PIC` 필드 |
| 의원 이름 | ✅ 가능 | 의원정보 API | |
| 정당명 | ✅ 가능 | 의원정보 API | |
| 선거구 | ✅ 가능 | 의원정보 API | `ELECD_NM` |
| 소속위원회 | ✅ 가능 | 의원정보 API | `BLNG_CMIT_NM` |
| 당선횟수 | ✅ 가능 | 의원정보 API | `GTELT_ERACO` 파싱 |
| 임기 정보 | ⚠️ 부분 가능 | 의원정보 API | `GTELT_ERACO`에서 추출 가능 |
| 전화번호 | ⚠️ 부분 가능 | 의원정보 API | `NAAS_TEL_NO` (일부만 제공, 없으면 "-") |
| 사무실 호실 | ⚠️ 부분 가능 | 의원정보 API | `OFFM_RNUM_NO` (일부만 제공, 없으면 "-") |
| 홈페이지 | ⚠️ 부분 가능 | 의원정보 API | `NAAS_HP_URL` (일부만 제공, 없으면 "-") |
| 이메일 | ⚠️ 부분 가능 | 의원정보 API | `NAAS_EMAIL_ADDR` (일부만 제공, 없으면 "-") |
| 보좌관/비서관 | ⚠️ 부분 가능 | 의원정보 API | `AIDE_NM`, `CHF_SCRT_NM`, `SCRT_NM` (일부만 제공, 없으면 "-") |
| 관심 분야 | ⚠️ 부분 가능 | 표결 이력 분석 | 의원의 표결한 의안 카테고리 분석 |
| 관심사 일치율 | ❌ 추후 구현 | 사용자 정치성향 테스트 | 사용자 정치성향 테스트 필요 |
| 대표 발의 의안 | ✅ 가능 | 의안정보 API | 제안자명으로 필터링 |

**구현 가능성**: ✅ **80% 구현 가능** (일부 필드는 데이터 부족 가능, "-" 표시로 대응)

---

## 📊 데이터 API 정리

### 1. 의안정보 통합 API

**제공 데이터** (실제 1,000건 분석 결과):
- ✅ 의안ID, 의안번호, 의안명 (제목)
- ✅ 제안일, 제안자구분
- ✅ 진행 단계, 처리구분
- ✅ 제안이유 및 주요내용 (요약)
- ✅ 처리일, 일반 결과

**활용 화면**:
- 의안 목록 화면
- 의안 상세 화면
- 유사 의안 추천

---

### 2. 국회의원 본회의 표결정보 API

**제공 데이터** (실제 298건 분석 결과):
- ✅ 의안별 표결 결과
- ✅ 국회의원별 표결 정보 (찬성/반대/기권/불참)
- ✅ 표결 일시
- ✅ 의원 정보 (이름, 정당, 선거구)
- ✅ 의원코드 (MEMBER_NO, MONA_CD)

**활용 화면**:
- 의안 상세 화면 (표결 현황)
- 의원 상세 화면 (표결 이력 분석)

---

### 3. 국회의원 정보 통합 API

**제공 데이터** (실제 300건 분석 결과):
- ✅ 의원 기본 정보 (이름, 정당, 선거구)
- ✅ 소속 위원회
- ✅ 당선 대수
- ✅ 성별, 생년월일
- ✅ 의원 사진 URL
- ⚠️ 전화번호, 이메일, 홈페이지 (약 10%만 제공)
- ⚠️ 보좌관, 비서관 정보 (약 10%만 제공)

**활용 화면**:
- 의원 상세 화면
- 유사 성향 의원 추천

---

## 🗄️ 데이터베이스 설계

### 핵심 테이블 (4개)

#### 1. bills (의안)
**데이터 소스**: 의안정보 통합 API + AI 처리

**주요 필드**:
- `bill_id`: 의안ID (PK)
- `title`: 의안명
- `proposal_date`: 제안일
- `proc_stage_cd`: 진행 단계
- `summary`: AI 요약 결과
- `categories`: 카테고리 (JSON)
- `vote_for`: 찬성 시 정치성향 가중치 (JSON)
- `vote_against`: 반대 시 정치성향 가중치 (JSON)

---

#### 2. assembly_members (국회의원)
**데이터 소스**: 국회의원 정보 통합 API

**주요 필드**:
- `member_id`: 의원코드 (PK)
- `name`: 의원명
- `party`: 정당명
- `district`: 선거구
- `committee`: 소속위원회
- `photo_url`: 사진 URL
- `phone`, `email`, `homepage_url`: 연락처 (일부만 제공)
- `aide_name`, `secretary_name`: 보좌진 (일부만 제공)

---

#### 3. votes (표결)
**데이터 소스**: 국회의원 본회의 표결정보 API

**주요 필드**:
- `vote_id`: 표결ID (PK)
- `bill_id`: 의안ID (FK)
- `member_id`: 의원ID (FK)
- `vote_result`: 표결결과 (찬성/반대/기권/불참)
- `vote_date`: 표결 일시

---

#### 4. user_votes (사용자 투표)
**데이터 소스**: 자체 구현

**주요 필드**:
- `user_vote_id`: 투표ID (PK)
- `bill_id`: 의안ID (FK)
- `user_id`: 사용자 식별자
- `vote_result`: 투표 결과 (찬성/반대)

---

## 🎯 구현해야 할 기능 목록

### Phase 1: 핵심 기능 (즉시 구현 가능)

#### 의안 관련
- [ ] 의안 목록 조회
- [ ] 의안 상세 정보 표시
- [ ] AI 요약 표시
- [ ] 심사 진행 단계 표시
- [ ] 카테고리별 의안 필터링
- [ ] 유사 의안 추천 (카테고리 기반)

#### 의원 관련
- [ ] 의원 상세 정보 표시
- [ ] 의원 기본 정보 표시 (이름, 정당, 선거구, 위원회)
- [ ] 대표 발의 의안 목록
- [ ] 의원 사진 표시

#### 사용자 기능
- [ ] 사용자 투표 기능 (응원해요/아쉬워요)
- [ ] 투표 결과 통계 표시

---

### Phase 2: 추가 기능 (선택사항)

- [ ] 전체 발의자 수 표시 (의안 상세 페이지 크롤링)
- [ ] 의원 관심 분야 분석 (표결 이력 기반)
- [ ] 의원별 표결 통계

---

### Phase 3: 고급 기능 (추후 구현)

- [ ] 사용자 정치성향 테스트
- [ ] 사용자-의원 일치율 계산
- [ ] AI 임베딩 기반 유사 의안 추천

---

## ⚠️ 구현 시 주의사항

### 1. 데이터 부족 가능성
- **의원 연락처 정보**: 전화번호, 이메일, 홈페이지는 일부 의원만 제공될 수 있음 (약 10%)
- **보좌관/비서관 정보**: 일부 의원만 제공될 수 있음 (약 10%)
- **해결책**: 데이터가 없는 경우 "-" 또는 "정보 없음" 표시

### 2. 필드명 매핑
- 3개 API의 필드명이 서로 다름
- 예: 의안명 → `billName` (의안정보) vs `BILL_NAME` (표결정보)
- **해결책**: 필드 매핑 로직 구현 필요

### 3. 식별자 매핑
- 의원 식별자가 API마다 다를 수 있음
- 예: `MEMBER_NO` (표결정보) vs `NAAS_CD` (의원정보) vs `MONA_CD` (표결정보)
- **해결책**: 매핑 테이블 또는 조인 로직 필요

---

## 📅 예상 개발 일정

### Phase 1: MVP 개발 (2-3주)
- 의안 기본 기능
- 의원 기본 정보 표시
- 사용자 투표 기능

### Phase 2: 추가 기능 (1주)
- 전체 발의자 수 크롤링
- 의원 관심 분야 분석

### Phase 3: 고급 기능 (2-3주)
- 정치성향 테스트
- 일치율 계산

**총 예상 기간**: 5-7주

---

## ✅ 최종 결론

### **현재 3개 API로 개발 시작 가능합니다!**

**충분한 이유**:
1. 핵심 기능 모두 구현 가능
2. MVP 개발 가능
3. 사용자에게 가치 있는 서비스 제공 가능

**추가로 필요한 것**:
- ❌ **추가 API 불필요**
- ✅ **자체 구현 필요한 것**:
  - 사용자 투표 기능 (DB)
  - AI 요약 및 카테고리 분류 (Gemini API - 이미 구현됨)
  - 유사 의안 추천 로직 (카테고리 기반)
  - 유사 성향 의원 일치율 계산 (표결 이력 분석)

**선택적 구현**:
- 전체 발의자 수: 의안 상세 페이지 크롤링 (선택사항)
- 의안 상세 본문: `LINK_URL`로 연결 (크롤링 불필요)

**다음 단계**: 바로 개발 시작하시면 됩니다! 🚀

---

## 📝 참고 사항

### AI 처리 시스템 (이미 구현됨)

**크롤링**:
- `AI/crawl/crawl_yesterday_law.py`: 전날 의안 크롤링
- CSV 파일로 저장 (`bills_YYYYMMDD.csv`)

**AI 처리**:
- `AI/20251008_Gemini/bill_headline_summarizer.py`: 의안 요약/분류
- Gemini API 사용
- 출력: `outputs_<model>_YYYYMMDD.csv`
  - `headline`: 뉴스형 헤드라인
  - `summary`: 쉬운말 요약
  - `categories`: 카테고리 (JSON 배열)
  - `vote_for`: 찬성 시 정치성향 가중치 (JSON)
  - `vote_against`: 반대 시 정치성향 가중치 (JSON)

**통합 계획**:
- 크롤링 → DB 저장
- AI 처리 → DB 업데이트
- 일일 배치 자동화

---

## 📚 상세 문서

더 자세한 내용은 다음 문서 참고:
- `docs/figma-screen-analysis.md` - 의안 상세 화면 분석
- `docs/member-detail-analysis.md` - 의원 상세 화면 분석
- `docs/api-crawling-results.md` - API 제공 데이터 상세
- `docs/db-design-final.md` - DB 설계 상세
- `docs/implementation-checklist.md` - 구현 체크리스트
